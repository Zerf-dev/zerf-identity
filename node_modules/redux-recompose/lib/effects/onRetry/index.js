"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _configuration = require("../../configuration");

function onRetry() {
  var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (action) {
    return action.payload.error;
  };
  return function (state, action) {
    var _mergeState;

    return (0, _configuration.mergeState)(state, (_mergeState = {}, (0, _defineProperty2["default"])(_mergeState, "".concat(action.target, "IsRetrying"), true), (0, _defineProperty2["default"])(_mergeState, "".concat(action.target, "Loading"), false), (0, _defineProperty2["default"])(_mergeState, "".concat(action.target, "RetryCount"), state["".concat(action.target, "RetryCount")] + 1), (0, _defineProperty2["default"])(_mergeState, "".concat(action.target, "Error"), selector(action, state)), (0, _defineProperty2["default"])(_mergeState, "".concat(action.target, "TimeoutID"), action.payload.timeoutID), _mergeState));
  };
}

var _default = onRetry;
exports["default"] = _default;